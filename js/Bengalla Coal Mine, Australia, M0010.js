
    var mine = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              150.805258,
              -32.2943
            ],
            [
              150.805149,
              -32.294234
            ],
            [
              150.804831,
              -32.29393
            ],
            [
              150.805185,
              -32.293552
            ],
            [
              150.805013,
              -32.293477
            ],
            [
              150.805197,
              -32.293557
            ],
            [
              150.805529,
              -32.293664
            ],
            [
              150.805872,
              -32.293739
            ],
            [
              150.806224,
              -32.293781
            ],
            [
              150.806579,
              -32.29379
            ],
            [
              150.817122,
              -32.29348
            ],
            [
              150.820856,
              -32.293354
            ],
            [
              150.822708,
              -32.292554
            ],
            [
              150.827251,
              -32.29059
            ],
            [
              150.829893,
              -32.289446
            ],
            [
              150.832152,
              -32.288464
            ],
            [
              150.832863,
              -32.288156
            ],
            [
              150.835073,
              -32.287199
            ],
            [
              150.835793,
              -32.286823
            ],
            [
              150.836616,
              -32.286365
            ],
            [
              150.837051,
              -32.286055
            ],
            [
              150.837369,
              -32.285828
            ],
            [
              150.838042,
              -32.285219
            ],
            [
              150.839066,
              -32.28411
            ],
            [
              150.839822,
              -32.283348
            ],
            [
              150.840787,
              -32.282782
            ],
            [
              150.841295,
              -32.282541
            ],
            [
              150.843182,
              -32.281546
            ],
            [
              150.846535,
              -32.279797
            ],
            [
              150.846553,
              -32.279734
            ],
            [
              150.847345,
              -32.279321
            ],
            [
              150.849421,
              -32.278238
            ],
            [
              150.849587,
              -32.278115
            ],
            [
              150.849792,
              -32.278004
            ],
            [
              150.850641,
              -32.272709
            ],
            [
              150.850802,
              -32.271702
            ],
            [
              150.850856,
              -32.271365
            ],
            [
              150.85085,
              -32.26274
            ],
            [
              150.849671,
              -32.262585
            ],
            [
              150.848884,
              -32.262471
            ],
            [
              150.848036,
              -32.260756
            ],
            [
              150.845563,
              -32.260417
            ],
            [
              150.839753,
              -32.25962
            ],
            [
              150.838932,
              -32.259694
            ],
            [
              150.838313,
              -32.259609
            ],
            [
              150.834961,
              -32.259147
            ],
            [
              150.833682,
              -32.258971
            ],
            [
              150.832177,
              -32.258763
            ],
            [
              150.826794,
              -32.258
            ],
            [
              150.827928,
              -32.251983
            ],
            [
              150.826594,
              -32.251805
            ],
            [
              150.823122,
              -32.251327
            ],
            [
              150.82309,
              -32.251499
            ],
            [
              150.82276,
              -32.253096
            ],
            [
              150.822735,
              -32.25349
            ],
            [
              150.822356,
              -32.253367
            ],
            [
              150.821852,
              -32.256038
            ],
            [
              150.821384,
              -32.256352
            ],
            [
              150.821316,
              -32.256715
            ],
            [
              150.821885,
              -32.256974
            ],
            [
              150.821822,
              -32.257297
            ],
            [
              150.818825,
              -32.256876
            ],
            [
              150.818642,
              -32.25685
            ],
            [
              150.816866,
              -32.256638
            ],
            [
              150.816108,
              -32.256547
            ],
            [
              150.81442,
              -32.256345
            ],
            [
              150.813945,
              -32.256105
            ],
            [
              150.811287,
              -32.255786
            ],
            [
              150.80561,
              -32.255104
            ],
            [
              150.805688,
              -32.254706
            ],
            [
              150.805709,
              -32.254565
            ],
            [
              150.805117,
              -32.254501
            ],
            [
              150.80501,
              -32.254463
            ],
            [
              150.802672,
              -32.254142
            ],
            [
              150.802063,
              -32.254098
            ],
            [
              150.801754,
              -32.254139
            ],
            [
              150.801404,
              -32.254101
            ],
            [
              150.801315,
              -32.253941
            ],
            [
              150.800889,
              -32.254349
            ],
            [
              150.800029,
              -32.254722
            ],
            [
              150.800057,
              -32.25551
            ],
            [
              150.7998,
              -32.255602
            ],
            [
              150.799045,
              -32.256234
            ],
            [
              150.797568,
              -32.259256
            ],
            [
              150.796666,
              -32.260137
            ],
            [
              150.790409,
              -32.267277
            ],
            [
              150.788153,
              -32.269543
            ],
            [
              150.78627,
              -32.272437
            ],
            [
              150.785382,
              -32.273947
            ],
            [
              150.785117,
              -32.275072
            ],
            [
              150.784523,
              -32.280108
            ],
            [
              150.783558,
              -32.28731
            ],
            [
              150.783153,
              -32.291041
            ],
            [
              150.783131,
              -32.291591
            ],
            [
              150.783194,
              -32.292108
            ],
            [
              150.783407,
              -32.292725
            ],
            [
              150.78664,
              -32.296395
            ],
            [
              150.787598,
              -32.297296
            ],
            [
              150.788515,
              -32.297812
            ],
            [
              150.789566,
              -32.29833
            ],
            [
              150.790602,
              -32.298654
            ],
            [
              150.792079,
              -32.299014
            ],
            [
              150.793253,
              -32.299131
            ],
            [
              150.795206,
              -32.299025
            ],
            [
              150.796887,
              -32.298603
            ],
            [
              150.798534,
              -32.297987
            ],
            [
              150.799647,
              -32.297523
            ],
            [
              150.80099,
              -32.296933
            ],
            [
              150.802478,
              -32.296241
            ],
            [
              150.803884,
              -32.295259
            ],
            [
              150.804716,
              -32.295478
            ],
            [
              150.80557,
              -32.295679
            ],
            [
              150.80615,
              -32.295752
            ],
            [
              150.805387,
              -32.295481
            ],
            [
              150.805102,
              -32.29531
            ],
            [
              150.805387,
              -32.295481
            ],
            [
              150.806437,
              -32.295854
            ],
            [
              150.807709,
              -32.296109
            ],
            [
              150.809167,
              -32.296048
            ],
            [
              150.809022,
              -32.295155
            ],
            [
              150.807818,
              -32.295208
            ],
            [
              150.806937,
              -32.295066
            ],
            [
              150.805909,
              -32.29469
            ],
            [
              150.805258,
              -32.2943
            ],
            [
              150.805258,
              -32.2943
            ]
          ]
        ]
      },
      "properties": {
        "id": "M0010.B1",
        "mine feature category": "mine boundary",
        "mine feature subcategory": "surface",
        "data source date": "2023",
        "notes": "The boundary is initially based on the project boundary shown figure 2, Approved Development Layout, in the 2023 Bengalla Mining Company Pty Limited Environmental Management Strategy https://web.archive.org/web/20250324194421/https://newhopegroup.com.au/wp-content/uploads/2023/08/230622-Bengalla-EMS-Final.pdf. The boundary was then refined to conform to mining leases in or adjacent to the project boundary found in and extracted from the Geological Survey NSW GeoServer web feature service, https://web.archive.org/web/20250427032655/https://www.resources.nsw.gov.au/geological-survey/products-and-data/gis-web-services, where the company name was BENGALLA MINING COMPANY PTY LIMITED. The extracted boundary includes the following mining leases: ML1397, ML1450, ML1469, ML1711, ML1728, ML1729, ML1796, and the exploratory lease EL9431. \n\nThe area of the boundary is 23 sq km.",
        "description": "Bengalla Coal Mine boundary",
        "coordinates precision": "extracted",
        "GEM Mine ID": "M0010",
        "Owners": "Bengalla Mining Company [100%]",
        "Owners (Non-ENG)": "",
        "Parent Company": "New Hope Group [80%]; Taipower [20%]",
        "GEM Wiki Page (ENG)": "https://www.gem.wiki/Bengalla_mine",
        "GEM Wiki Page (Non-ENG)": "",
        "Coal Grade": "Thermal",
        "Mine Name": "Bengalla Coal Mine",
        "Country / Area": "Australia",
        "Last researched": "Jun 26, 2025",
        "build_version": "Coal Mine Boundaries and Methane Sources - version 1.0.1 (built on February 12 2026 10.59.11 EST)"
      }
    }
  ]
}
    var bounds = L.latLngBounds(L.latLng(-32.299131, 150.783131), L.latLng(-32.251327, 150.850856));                        
    var googleStreet =  L.tileLayer('https://mt0.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}', {maxZoom: 18, attribution: '&copy; Google Maps'})
    var googleHybrid =  L.tileLayer('https://mt0.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}', {maxZoom: 18, attribution: '&copy; Google Maps'})
    
    //var map = L.map('map', {layers: [googleStreet, googleHybrid]}).fitBounds(bounds) 
    var map = L.map('map', {layers: [googleStreet, googleHybrid]}).setView([-32.275229, 150.8169935], 10)                     
    
    var baseMaps = {"Street view": googleStreet,"Satellite view": googleHybrid};
    var layerControl = L.control.layers(baseMaps).addTo(map);
    function onEachFeature(feature, layer) {
        let popupContent = "<b><u>" + feature.properties['description'] + "</u></b><br /><br />"
        for (const [key, value] of Object.entries(feature.properties)) {
            popupContent += '<b>' + key + '</b>: ' + value + '<br />'
        }
        layer.bindPopup(popupContent, { maxHeight: 200 , maxWidth: 400})
        if (feature.properties['mine feature category'] == "mine boundary") {
           layer.setStyle({ color: '#CA4A50', fillColor: '#CA4A50', opacity: 1.0 });
        }
	}
    const mineLayer = L.geoJSON(mine, {onEachFeature}).addTo(map)
    var GEMMineIcon = L.icon({ iconUrl: 'https://maps.google.com/mapfiles/kml/paddle/red-circle.png', iconSize:  [40, 40]});
    
    const myDiv = document.getElementById('map');
    const width = myDiv.offsetWidth;
    const height = myDiv.offsetHeight;
    console.log(width, height);                    

    var GEMMine;
                        
	GEMMine = L.marker([-32.268076, 150.84], {icon: GEMMineIcon}).addTo(map); 
	GEMMine.bindPopup('Bengalla Coal Mine Operating mine');
	GEMMine.bindTooltip('Bengalla Coal Mine Operating mine', { permanent: true, direction: 'right'});
