
    var mine = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              27.474004,
              -23.674087
            ],
            [
              27.496171,
              -23.708445
            ],
            [
              27.546252,
              -23.698088
            ],
            [
              27.590102,
              -23.684214
            ],
            [
              27.582223,
              -23.667086
            ],
            [
              27.568596,
              -23.6487
            ],
            [
              27.614206,
              -23.633159
            ],
            [
              27.593421,
              -23.616672
            ],
            [
              27.550624,
              -23.633519
            ],
            [
              27.545051,
              -23.619958
            ],
            [
              27.496063,
              -23.62665
            ],
            [
              27.501079,
              -23.64805
            ],
            [
              27.464556,
              -23.652502
            ],
            [
              27.474004,
              -23.674087
            ]
          ]
        ]
      },
      "properties": {
        "id": "M0900.B1",
        "mine feature category": "mine boundary",
        "mine feature subcategory": "surface",
        "data source date": "2023-04-14 00:00:00",
        "notes": "The boundary is the Grootegeluk mining right, extracted from Figure 5: Grootegeluk LoM on page 7 of Exxaro Resources Limited Consolidated Mineral Resources and Mineral Reserves report 2022, 14 April 2023, https://web.archive.org/web/20250813171947/https://exxaro-prod.azureedge.net/sitestorage/media/kvoj3f4e/exxaro-cmrr_2022_hires.pdf. This boundary is also seen in partially obscured Figure 8: Grootegeluk mine on page 46 of the Exxaro Resources Limited Consolidated Mineral Resources and Mineral Reserves report for the year ended 31 December 2024, https://web.archive.org/web/20250813171744/https://exxaro-prod.azureedge.net/sitestorage/media/bfcoyft2/exx-2024_cmrr-report.pdf, 15 April 2025. The approximate boundary area is 88 sq km.",
        "description": "Mining right boundary for Grootegeluk Coal Mine",
        "coordinates precision": "extracted",
        "GEM Mine ID": "M0900",
        "Owners": "Exxaro Coal Pty Ltd [100%]",
        "Owners (Non-ENG)": "",
        "Parent Company": "Exxaro Resources",
        "GEM Wiki Page (ENG)": "https://www.gem.wiki/Grootegeluk_coal_mine",
        "GEM Wiki Page (Non-ENG)": "",
        "Coal Grade": "Thermal & Met",
        "Mine Name": "Grootegeluk Coal Mine",
        "Country / Area": "South Africa",
        "Last researched": "Aug 13, 2025",
        "build_version": "mines - January 30 (built on January 30 2026 16.19.47 EST)"
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [
          27.552029,
          -23.659816
        ]
      },
      "properties": {
        "id": "M0900.P1",
        "mine feature category": "other",
        "mine feature subcategory": "preparation plant",
        "data source date": "2023-08-05 00:00:00",
        "notes": "Complex of coal processing plants identified visually from Google Earth Pro satellite imagery. Page 45 of Exxaro Resources Limited Consolidated Mineral Resources and Mineral Reserves report for the year ended 31 December 2024, https://web.archive.org/web/20250813171744/https://exxaro-prod.azureedge.net/sitestorage/media/bfcoyft2/exx-2024_cmrr-report.pdf, 15 April 2025, refers to four dense medium separation (DMS) beneficiation plants and two crushing and screening plants.",
        "description": "Processing plant complex at Grootegeluk Coal Mine",
        "coordinates precision": "extracted",
        "GEM Mine ID": "M0900",
        "Owners": "Exxaro Coal Pty Ltd [100%]",
        "Owners (Non-ENG)": "",
        "Parent Company": "Exxaro Resources",
        "GEM Wiki Page (ENG)": "https://www.gem.wiki/Grootegeluk_coal_mine",
        "GEM Wiki Page (Non-ENG)": "",
        "Coal Grade": "Thermal & Met",
        "Mine Name": "Grootegeluk Coal Mine",
        "Country / Area": "South Africa",
        "Last researched": "Aug 13, 2025",
        "build_version": "mines - January 30 (built on January 30 2026 16.19.47 EST)"
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [
          27.561713,
          -23.704843
        ]
      },
      "properties": {
        "id": "M0900.P2",
        "mine feature category": "other",
        "mine feature subcategory": "not coal mine related",
        "data source date": "2025",
        "notes": "Coordinates of Medupi coal-fired power station extracted from GEM.wiki (https://web.archive.org/web/20250813213412/https://www.gem.wiki/Medupi_power_station) and confirmed visually with Google Earth Pro satellite imagery. Medupi power station is ~1 km beyond the southern border of the Grootegeluk mine rights boundary, and is supplied by Grootegeluk mine (https://web.archive.org/web/20250813214122/https://www.exxaro.com/operations/where-we-operate/#grootegeluk)",
        "description": "Medupi coal-fired power station",
        "coordinates precision": "extracted",
        "GEM Mine ID": "M0900",
        "Owners": "Exxaro Coal Pty Ltd [100%]",
        "Owners (Non-ENG)": "",
        "Parent Company": "Exxaro Resources",
        "GEM Wiki Page (ENG)": "https://www.gem.wiki/Grootegeluk_coal_mine",
        "GEM Wiki Page (Non-ENG)": "",
        "Coal Grade": "Thermal & Met",
        "Mine Name": "Grootegeluk Coal Mine",
        "Country / Area": "South Africa",
        "Last researched": "Aug 13, 2025",
        "build_version": "mines - January 30 (built on January 30 2026 16.19.47 EST)"
      }
    },
    {
      "type": "Feature",
      "geometry": {
        "type": "Point",
        "coordinates": [
          27.610261,
          -23.670056
        ]
      },
      "properties": {
        "id": "M0900.P3",
        "mine feature category": "other",
        "mine feature subcategory": "not coal mine related",
        "data source date": "2025",
        "notes": "Coordinates of Matimba coal-fired power station extracted from GEM.wiki (https://web.archive.org/web/20250813213421/https://www.gem.wiki/Matimba_power_station) and confirmed visually with Google Earth Pro satellite imagery. Matimba power station is ~2.5 km beyond the southeastern border of the Grootegeluk mine rights boundary, and is supplied by Grootegeluk mine (https://web.archive.org/web/20250813214122/https://www.exxaro.com/operations/where-we-operate/#grootegeluk)",
        "description": "Matimba coal-fired power station",
        "coordinates precision": "extracted",
        "GEM Mine ID": "M0900",
        "Owners": "Exxaro Coal Pty Ltd [100%]",
        "Owners (Non-ENG)": "",
        "Parent Company": "Exxaro Resources",
        "GEM Wiki Page (ENG)": "https://www.gem.wiki/Grootegeluk_coal_mine",
        "GEM Wiki Page (Non-ENG)": "",
        "Coal Grade": "Thermal & Met",
        "Mine Name": "Grootegeluk Coal Mine",
        "Country / Area": "South Africa",
        "Last researched": "Aug 13, 2025",
        "build_version": "mines - January 30 (built on January 30 2026 16.19.47 EST)"
      }
    }
  ]
}

    var bounds = L.latLngBounds(L.latLng(-23.708445, 27.464556), L.latLng(-23.616672, 27.614206));
                        
    // create some basemap layers - use google imagery as this is what we used in research - the attribution might need more refining/research
    var googleStreet =  L.tileLayer('http://mt0.google.com/vt/lyrs=m&hl=en&x={x}&y={y}&z={z}', {maxZoom: 18, attribution: '&copy; Google Maps'})
    var googleHybrid =  L.tileLayer('http://mt0.google.com/vt/lyrs=y&hl=en&x={x}&y={y}&z={z}', {maxZoom: 18, attribution: '&copy; Google Maps'})

    var map = L.map('map', {layers: [googleStreet, googleHybrid]}).fitBounds(bounds) 

    // add basemaps layer control
    var baseMaps = {"Street view": googleStreet,"Satellite view": googleHybrid};
    var layerControl = L.control.layers(baseMaps).addTo(map);

    // add popup content
    function onEachFeature(feature, layer) {
        let popupContent = "<b><u>" + feature.properties['description'] + "</u></b><br /><br />"
        for (const [key, value] of Object.entries(feature.properties)) {
            popupContent += '<b>' + key + '</b>: ' + value + '<br />'
        }
        layer.bindPopup(popupContent, { maxHeight: 200 , maxWidth: 400})
	}

    // add the mine layer to the map
    const mineLayer = L.geoJSON(mine, {onEachFeature}).addTo(map)

    // Add the GEM mine location as markers                   
    var GEMMineIcon = L.icon({ iconUrl: 'https://maps.google.com/mapfiles/kml/paddle/red-circle.png', iconSize:  [40, 40]});

    var GEMMine;
                        
	GEMMine = L.marker([-23.657141, 27.566687], {icon: GEMMineIcon}).addTo(map); 
	GEMMine.bindPopup('Grootegeluk Coal Mine Operating mine');
	GEMMine.bindTooltip('Grootegeluk Coal Mine Operating mine', { permanent: true, direction: 'right'});
